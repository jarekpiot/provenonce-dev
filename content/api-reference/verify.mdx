# GET /api/v1/verify/:hash

Full agent verification with lineage chain and cryptographic lineage proof.

**Auth:** None (public)

```bash
curl https://provenonce.io/api/v1/verify/0xfd752396e4fa9ed34d1e3e3218700ef6aafcaeecad5cb72e1a4ff177417f0373
```

```json
{
  "verified": true,
  "standing": "active",
  "agent": {
    "hash": "0xfd752396...",
    "name": "provenonce-genesis",
    "type": "root",
    "depth": 0,
    "parent": null,
    "metadata": null,
    "wallet": null,
    "wallet_model": "self-custody",
    "wallet_chain": null,
    "registered": "2026-02-12T..."
  },
  "sigil": {
    "identity_class": "autonomous",
    "issued_at": "2026-02-12T...",
    "tx_signature": "BmcxxSCk..."
  },
  "beat_state": {
    "beat_count": 5613,
    "last_heartbeat": "2026-02-12T...",
    "last_heartbeat_beat": 5600,
    "last_global_sync": 4200,
    "difficulty": 1000,
    "status": "active"
  },
  "network": {
    "current_anchor_index": 4215,
    "uptime_seconds": 86400
  },
  "lineage": [
    { "hash": "0xfd75...", "type": "root", "depth": 0, "name": "provenonce-genesis", "registered": "2026-02-12T..." }
  ],
  "lineage_proof": {
    "signature": "base64-encoded-ed25519-signature...",
    "chain_hash": "sha256-of-lineage-chain...",
    "valid_from": "2026-02-12T12:00:00.000Z",
    "valid_until": "2026-02-13T12:00:00.000Z"
  },
  "root": {
    "hash": "0xfd75...",
    "registered_by": null,
    "registered": "2026-02-12T..."
  },
  "lineage_depth": 1
}
```

## Response fields

| Field | Type | Description |
|-------|------|-------------|
| `verified` | boolean | Always `true` for found agents |
| `standing` | string | `"active"`, `"stale"`, `"refused"`, or `"registered"` |
| `agent.wallet` | string \| null | Solana/Ethereum address (root with wallet) or null |
| `agent.wallet_model` | string | `"self-custody"` or `"operator"` (defaults to `"self-custody"`) |
| `agent.wallet_chain` | string \| null | `"solana"`, `"ethereum"`, or null (no wallet) |
| `agent.metadata` | object \| null | Optional metadata set at registration |
| `beat_state` | object \| null | null if beat chain not initialized |
| `beat_state.beat_count` | number | Total beats computed to date |
| `beat_state.last_heartbeat` | string \| null | ISO timestamp of most recent heartbeat |
| `beat_state.status` | string | `"active"`, `"stale"`, `"revoked"`, or `"gestating"` |
| `network.current_anchor_index` | number | Latest global anchor beat index |
| `network.uptime_seconds` | number \| null | Seconds since registration |
| `lineage` | array | Parent chain from agent to root |
| `root` | object | Root agent summary |
| `lineage_depth` | number | Length of the lineage chain |

## Standing values

| Standing | Meaning |
|----------|---------|
| `active` | Agent is heartbeating and in good standing |
| `stale` | Agent has not heartbeated recently — market staleness applies |
| `refused` | Agent has been refused by the network |
| `registered` | Agent is registered but has not initialized a beat chain |

## SIGIL section

Present for agents that hold a SIGIL identity tier. `null` if the agent has no SIGIL.

| Field | Type | Description |
|-------|------|-------------|
| `identity_class` | string | `"narrow_task"`, `"autonomous"`, or `"orchestrator"` |
| `issued_at` | string | ISO timestamp of SIGIL issuance |
| `tx_signature` | string | Solana transaction signature for the SIGIL purchase |

## Lineage proof (Passport)

The `lineage_proof` section contains a cryptographic proof of the agent's lineage chain, signed by the Provenonce authority key. For SIGIL holders, this proof serves as their **Passport** — a portable, offline-verifiable credential. Proofs are **Ed25519-signed** and valid for **24 hours**.

| Field | Type | Description |
|-------|------|-------------|
| `agent_hash` | string | Agent identity hash |
| `agent_public_key` | string \| null | Wallet address (key-binding for impersonation prevention) |
| `identity_class` | string | SIGIL tier (`narrow_task`, `autonomous`, `orchestrator`) |
| `registered_at_beat` | number | Beat index at registration |
| `sigil_issued_at_beat` | number \| null | Beat index at SIGIL issuance |
| `last_heartbeat_beat` | number | Beat index of most recent heartbeat |
| `lineage_chain_hash` | string | SHA-256 hash of the agent's lineage event chain |
| `issued_at` | number | Unix timestamp (ms) — proof issuance |
| `valid_until` | number | Unix timestamp (ms) — proof expiry (24h after issuance) |
| `provenonce_signature` | string | Hex-encoded Ed25519 signature over canonical proof data |

### Offline verification

You can verify lineage proofs (Passports) offline using the Provenonce authority public key, available at:

```
https://provenonce.io/.well-known/provenonce-authority.json
```

```json
{
  "authority_public_key": "hex-encoded-32-byte-ed25519-public-key",
  "algorithm": "ed25519",
  "key_format": "raw_hex_32_bytes"
}
```

To verify:
1. Fetch the authority key from `/.well-known/provenonce-authority.json` (cache it).
2. Reconstruct the canonical JSON from the proof fields (deterministic key order).
3. Verify the `provenonce_signature` against the canonical JSON using the authority public key.
4. Check that the current time is before `valid_until`.

This allows any party to verify an agent's Passport without calling the Provenonce API.

For child agents, `lineage` walks from the agent up to the root.

## Not found

Returns HTTP 404:

```json
{ "verified": false, "hash": "0x...", "error": "Agent hash not found" }
```

## Rate limit: 60/min per IP
