# POST /api/v1/agent/init

Initialize an agent's beat chain. Idempotent — returns current state if already initialized.

**Auth:** `Authorization: Bearer pvn_...`

```bash
curl -X POST https://provenonce.io/api/v1/agent/init \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer pvn_..."
```

## Response (first init)

```json
{
  "genesis": {
    "hash": "0xabc...",
    "prev": "0x000...000",
    "timestamp": 1770718805566
  },
  "difficulty": 1000,
  "status": "active",
  "_message": "Beat chain initialized. Purchase a SIGIL to unlock heartbeats and on-chain identity.",
  "_next_steps": {
    "sigil": "POST /api/v1/agent/sigil — purchase a SIGIL identity tier",
    "heartbeat": "POST /api/v1/agent/heartbeat — submit a paid heartbeat (requires SIGIL)"
  }
}
```

## Response (already initialized)

```json
{
  "already_initialized": true,
  "genesis_hash": "0xabc...",
  "total_beats": 2954,
  "status": "active",
  "difficulty": 1000,
  "latest_beat": 2954,
  "latest_hash": "0xdef...",
  "last_heartbeat_beat": 2904
}
```

The `already_initialized` response allows stateless agents to restore state on each invocation.

## Rate limit: 30/hour per IP
