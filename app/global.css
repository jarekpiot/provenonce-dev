@import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500;600;700&family=IBM+Plex+Mono:wght@400;500&display=swap');

:root {
  --nextra-primary-hue: 25deg;
  --nextra-primary-saturation: 95%;
  --nextra-primary-lightness: 53%;
}

body {
  font-family: 'IBM Plex Sans', system-ui, sans-serif;
}

code, pre, .nextra-code {
  font-family: 'IBM Plex Mono', monospace;
}

/* Mobile: code blocks scroll internally, no page-level horizontal overflow.
   Do NOT add max-width:100% here — it conflicts with negative margins below
   and causes asymmetric layout (left extends, right doesn't). */
pre {
  overflow-x: auto;
}

/* Mobile: code blocks go edge-to-edge (negative margin cancels article padding).
   The pre auto-width expands to fill viewport via the negative margins. */
article pre {
  margin-left: -1rem;
  margin-right: -1rem;
  border-radius: 0;
}

/* Mobile: tables scroll horizontally without breaking layout */
article table {
  display: block;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}

/* Mobile: inline code wraps at word boundaries instead of overflowing.
   Use overflow-wrap:anywhere (not word-break:break-all) — it only breaks
   when the word would overflow, preserving natural break points. */
article :not(pre) > code {
  overflow-wrap: anywhere;
}

@media (min-width: 640px) {
  article pre {
    margin-left: 0;
    margin-right: 0;
    border-radius: 0.5rem;
  }
}

/* ==========================================================================
   Nextra 4 + Next.js 14 Production CSS Fix

   Next.js 14's production compiler (Lightning CSS) incorrectly drops nested
   @media rules inside @layer from Nextra's Tailwind v4 CSS. This breaks
   ALL responsive utilities (x:max-xl:hidden, x:max-lg:hidden, etc.),
   causing sidebars to stay visible on mobile and mobile nav on desktop.

   These unlayered overrides restore correct responsive behavior.
   Attribute selectors [class~="..."] avoid backslash-escape issues in the
   CSS minification pipeline.
   ========================================================================== */

/* Below xl (< 1280px): hide TOC sidebar + xl-only elements */
@media (max-width: 79.999rem) {
  .nextra-toc,
  [class~="x:max-xl:hidden"] {
    display: none !important;
  }
}

/* Below lg (< 1024px): hide lg-only elements */
@media (max-width: 63.999rem) {
  [class~="x:max-lg:hidden"] {
    display: none !important;
  }
}

/* Below md (< 768px): hide left sidebar + desktop nav elements */
@media (max-width: 47.999rem) {
  .nextra-sidebar,
  [class~="x:max-md:hidden"] {
    display: none !important;
  }

  /* Scroll lock: Nextra toggles this class on <html> when mobile menu opens.
     Without it, the page scrolls behind the open sidebar overlay. */
  [class~="x:max-md:overflow-hidden"] {
    overflow: hidden !important;
  }

  /* Mobile nav overlay: ensure opaque background covers page content.
     The bg-nextra-bg utility exists in production CSS but may lose to
     specificity or contain:layout stacking context issues. */
  .nextra-mobile-nav {
    background-color: rgb(var(--nextra-bg, 250, 250, 250)) !important;
  }
}

/* At md+ (>= 768px): hide mobile-only elements */
@media (min-width: 48rem) {
  .nextra-mobile-nav,
  .nextra-hamburger,
  [class~="x:md:hidden"] {
    display: none !important;
  }
}
